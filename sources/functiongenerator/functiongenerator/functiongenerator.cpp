/***********************************************************************/
/*                                                                     */
/*  FILE        :functiongenerator.cpp                                 */
/*  DATE        :Fri, May 08, 2015                                     */
/*  DESCRIPTION :main program file.                                    */
/*  CPU GROUP   :29                                                    */
/*                                                                     */
/*  This file is generated by Renesas Project Generator (Ver.4.19).    */
/*  NOTE:THIS IS A TYPICAL EXAMPLE.                                    */
/***********************************************************************/

#include "sfr_r829.h"
#include "Dac.hpp"
#include "ClockSettings.hpp"
#include "SSUbus.hpp"

void main(void);


void write(unsigned int data, SSUbus &ssu){
	p3_4 = 0;
	asm("nop");
	asm("nop");
	asm("nop");
	ssu.Write((unsigned char *) &data, 2);
	asm("nop");
	asm("nop");
	asm("nop");
	p3_4 = 1;
}

void write2(unsigned char * data, SSUbus &ssu){
	p3_4 = 0;
	asm("nop");
	asm("nop");
	asm("nop");
	ssu.Write(data, 2);
	asm("nop");
	asm("nop");
	asm("nop");
	p3_4 = 1;
}

void main(void)
{
	
	ClockSettings clkstg;
	clkstg.Initialize();

	Dac dac;


	pd1_1 = 1;
	p1drr1 = 1;
	p1_1 = 0;

	int j = 0;

	while(1){
		for(unsigned int i = 0; i < 1; ++i);
			p1_1 = !p1_1;
			dac.WriteVoltageA(j);
			j = (j > (0x0FFF - 1)) ? 0 : j + 500;
	}
	
}
